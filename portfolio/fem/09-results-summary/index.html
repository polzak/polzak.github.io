<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@500;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <title>Frontend Mentor | Results summary component</title>
</head>

<body>
  <main>
    <div class="card">
      <div class="results">
        <h1 class="heading">
          Your Result
        </h1>
        <div class="scoreboard">
          <h2>76</h2>
          <p>of 100</p>
        </div>
        <h2 class="evaluation">
          Great
        </h2>
        <p class="desc">
          Your performance exceed 65% of the people conducting the test here!
        </p>
      </div>
      <div class="summary">
        <h3 class="summary-heading">
          Summary
        </h3>
        <div class="bar-group">
          <div class="bar reaction">
            <p class="bar-title">
              Reaction
            </p>
            <p class="bar-score">
              <em id="reactionScore"></em>/ 100
            </p>
          </div>
          <div class="bar memory">
            <p class="bar-title">
              Memory
            </p>
            <p class="bar-score">
              <em id="memoryScore"></em>/ 100
            </p>
          </div>
          <div class="bar verbal">
            <p class="bar-title">
              Verbal
            </p>
            <p class="bar-score">
              <em id="verbalScore"></em>/ 100
            </p>
          </div>
          <div class="bar visual">
            <p class="bar-title">
              Visual
            </p>
            <p class="bar-score">
              <em id="visualScore"></em>/ 100
            </p>
          </div>
        </div>
        <button class="continue-button">
          Continue
        </button>
      </div>
    </div>
  </main>
  <!-- <div class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>.
    Coded by <a href="#">Your Name Here</a>.
  </div> -->

  <script>
    // import scoreData from 'http://polzak.github.io/portfolio/fem/09-results-summary/data.json' assert { type: 'json' };
    const dataSource = './data.json';

    fetch(dataSource)
      .then((response) => response.json())
      .then((json) => {
        const scoreData = json;

        const reaction = document.getElementById('reactionScore');
        const memory = document.getElementById('memoryScore');
        const verbal = document.getElementById('verbalScore');
        const visual = document.getElementById('visualScore');

        reaction.textContent = fillScore(scoreData, 'reaction');
        memory.textContent = fillScore(scoreData, 'memory');
        verbal.textContent = fillScore(scoreData, 'verbal');
        visual.textContent = fillScore(scoreData, 'visual');
      });

    function fillScore(data, cat) {
      const dataObj = data.find((d) => d.category.toLowerCase() === cat);
      const score = (dataObj ? dataObj.score : 0).toString();
      return score;
    }

  </script>
</body>

</html>